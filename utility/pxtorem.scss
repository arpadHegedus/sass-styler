@use "sass:map";
@use "sass:math";
@use "sass:meta";
@use "./strtonum" as *;
@use "../helper/root-styles";
@use "./strip-unit" as *;

/// Px to Rem calculation
/// @param {Number} $px Size value
/// @param {Number} $default [null] Set a default, otherwise styler:root-styles.$styles.font-size will be used
/// @return {Number}
/// @group utility

@function pxtorem($px, $default: null) {
  $default: if(
    $default,
    $default,
    if(
      meta.type-of(root-styles.$styles) == map and map.get(root-styles.$styles, font-size),
      map.get(root-styles.$styles, font-size),
      null
    )
  );

  @if $default and math.unit($default) == px {
    @return 1rem * strip-unit($px) / strip-unit($default);
  }

  @return strtonum($px);
}