@use "sass:map";
@use "sass:math";
@use "sass:meta";
@use "../helper/normalize";
@use "../math/strip-unit" as *;

@function emtopx($em, $default: null) {
  $default: if(
    $default,
    $default,
    if(
      meta.type-of(normalize.$normalize) == map and map.get(normalize.$normalize, font-size),
      map.get(normalize.$normalize, font-size),
      null
    )
  );

  @if $default and math.unit($default) == px {
    @return strip-unit($em) * $default;
  }

  @return $em;
}
